# ========================================
# DWELL PROPERTY MANAGEMENT
# PRODUCTION ENVIRONMENT EXAMPLE
# ========================================
#
# Copy this file to `.env.prod` and fill in real values.
# Keep `.env.prod` out of version control (see .gitignore).

# Server Configuration
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
ENVIRONMENT=production

# Database Configuration (Use RDS in production)
DB_HOST=your-rds-endpoint.region.rds.amazonaws.com
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=CHANGE_ME
DB_NAME=dwell
DB_SSLMODE=require
DB_MAX_OPEN_CONNS=50
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=300s

# ========================================
# AWS CORE CONFIGURATION
# ========================================
AWS_REGION=us-east-1
# Prefer IAM roles or AWS profiles in production. If you must use static keys,
# uncomment and provide them via a secret manager, not source control.
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_SESSION_TOKEN=

# ========================================
# AWS COGNITO (Authentication)
# ========================================
COGNITO_USER_POOL_ID=us-east-1_xxxxxxxxx
COGNITO_CLIENT_ID=your-production-client-id
COGNITO_CLIENT_SECRET=CHANGE_ME
COGNITO_REGION=us-east-1
COGNITO_IDENTITY_POOL_ID=us-east-1:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# ========================================
# AWS S3 (File Storage)
# ========================================
S3_BUCKET_NAME=dwell-property-files-production
S3_REGION=us-east-1
S3_ENDPOINT=https://s3.us-east-1.amazonaws.com
S3_FORCE_PATH_STYLE=false
S3_MAX_FILE_SIZE=10485760
S3_ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,doc,docx

# ========================================
# AWS BEDROCK (AI Chatbot)
# ========================================
BEDROCK_REGION=us-east-1
BEDROCK_MODEL=anthropic.claude-3-sonnet-20240229-v1:0
BEDROCK_MAX_TOKENS=4096
BEDROCK_TEMPERATURE=0.7
BEDROCK_ENDPOINT=https://bedrock-runtime.us-east-1.amazonaws.com

# ========================================
# AWS SNS (SMS Notifications)
# ========================================
SNS_REGION=us-east-1
SNS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:dwell-maintenance-notifications-prod
SNS_SMS_TYPE=Transactional
SNS_DEFAULT_SENDER_ID=DWELL

# ========================================
# AWS SES (Email Notifications)
# ========================================
SES_REGION=us-east-1
SES_FROM_EMAIL=noreply@yourdomain.com
SES_FROM_NAME=Dwell Property Management
SES_CONFIGURATION_SET=dwell-notifications-prod
SES_VERIFIED_DOMAIN=yourdomain.com

# ========================================
# AWS RDS (Database)
# ========================================
RDS_CLUSTER_IDENTIFIER=dwell-aurora-cluster-prod
RDS_INSTANCE_CLASS=db.t3.medium
RDS_ENGINE=aurora-postgresql
RDS_ENGINE_VERSION=15.4
RDS_DATABASE_NAME=dwell
RDS_MASTER_USERNAME=postgres
RDS_MASTER_PASSWORD=CHANGE_ME

# ========================================
# JWT & SECURITY
# ========================================
JWT_SECRET_KEY=CHANGE_ME
JWT_EXPIRATION_HOURS=24
JWT_REFRESH_EXPIRATION_DAYS=7
ENCRYPTION_KEY=your-32-character-encryption-key-for-production

# ========================================
# REDIS (Caching & Sessions)
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME
REDIS_DB=0
REDIS_POOL_SIZE=20

# ========================================
# LOGGING & MONITORING
# ========================================
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_METRICS=true
ENABLE_TRACING=true
SENTRY_DSN=

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_AI_CHATBOT=true
ENABLE_FILE_UPLOADS=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_MULTI_TENANCY=true

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ========================================
# CORS SETTINGS
# ========================================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_ALLOW_CREDENTIALS=true

# ========================================
# NGINX & SSL
# ========================================
NGINX_SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
NGINX_SSL_KEY_PATH=/etc/nginx/ssl/key.pem
NGINX_DOMAIN=api.yourdomain.com

# ========================================
# PERFORMANCE & SCALING
# ========================================
WORKER_PROCESSES=4
MAX_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=100M

# ========================================
# BACKUP & RECOVERY
# ========================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=dwell-backups-production
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ========================================
# ALERTING & NOTIFICATIONS
# ========================================
ALERT_EMAIL=alerts@yourdomain.com
ALERT_SLACK_WEBHOOK=
MONITORING_ENDPOINT=https://your-monitoring-service.com

# ========================================
# SECURITY & COMPLIANCE
# ========================================
ENABLE_AUDIT_LOGGING=true
ENABLE_RATE_LIMITING=true
ENABLE_IP_WHITELISTING=false
ALLOWED_IP_RANGES=0.0.0.0/0
ENABLE_2FA=true
SESSION_TIMEOUT_MINUTES=480

